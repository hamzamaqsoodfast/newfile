<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fancy Touch Table</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Tektur&display=swap">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Font Awesome CSS link -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* Add shadows to the table */
    .table-container {
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
    }

    /* Add fancy touch effect on hover */
    tbody tr:hover {
      background-color: #f2f2f2;
      cursor: pointer;
    }

    /* Add scrollable overflow to the table */
    .table-responsive {
      max-height: 300px; /* Adjust this height as needed */
      /* Remove the default browser scrollbar */
      overflow: scroll;
    }

    /* Customize the scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-thumb {
      background-color: #ccc;
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: #999;
    }

    /* Header */
    header {

      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: #333;
      padding: 10px 20px;
      color: #fff;
      
    }

    .header-logo {
      max-width: 40px;
      font-family: 'Tektur', sans-serif;
      vertical-align: center;

    }

    .header-menu {
   vertical-align: center;
      list-style: none;
      display: flex;
    }

    .header-menu li {
      margin-left: 20px;
      margin-top: 7px;
    }
/* Loading Popup Styles */
#loading-popup {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 9999;
  display: flex;
  justify-content: center;
  align-items: center;
}

.loading-content {
  
  background-color: #fff;
  padding: 20px;
  border-radius: 5px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

    /* Input Section */
    .input-section {
      margin-top: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .search-input {
      width: 200px;
      padding: 5px;
      border-radius: 5px;
    }

    .select-input {
      padding: 5px;
      border-radius: 5px;
    }

    .submit-btn {
      padding: 5px 10px;
      border: none;
      border-radius: 5px;
      background-color: #333;
      color: #fff;
      cursor: pointer;
    }

    /* Export Buttons */
    .export-buttons {
      display: flex;
      align-items: center;
      margin-top: 20px;
    }

    .export-btn {
      display: flex;
      align-items: center;
      justify-content: flex-end; /* Align buttons to the right */

      margin-right: 10px;
      padding: 10px;
      border: none;
      border-radius: 5px;
      background-color: #007bff;
      color: #fff;
      cursor: pointer;
      
    }

    #excel{
      margin-right: 6px;

    }
    #sheet{
      margin-right: 6px;

    }
    span{
      font-family: 'Tektur', sans-serif;
font-weight: 800;
font-size: 18px;
    }
  
    /* Add dark mode styles */
    body.dark-mode {
      background-color: #1a1a1a;
      color: #f0f0f0;
    }

    body.dark-mode a {
      color: #007bff;
    }

    /* Update table styles for dark mode */
    body.dark-mode table {
      color: #f0f0f0;
    }

    body.dark-mode thead {
      background-color: #333;
    }

    body.dark-mode tbody tr:hover {
      background-color: #444;
    }

    /* Update box shadow for dark mode */
    body.dark-mode .table-container {
      box-shadow: 0px 0px 10px white;
    }
    body.dark-mode .table-container a {
color:yellow;
    }
    body.dark-mode tr:hover
    {
      cursor: pointer;
      color:yellow;
    }

    .table-responsive.table-container {
      margin-top: 10px; /* Adjust this value as needed */
    }

    /* Reduce the top margin for the pagination */
    .pagination {
      margin-top: -15px; /* Adjust this value as needed */
    }
    .container{
      margin-top: -5px;
    }
      /* Dark mode styles for pagination */
      body.dark-mode .pagination .page-item .page-link {
      color: #fff;
      background-color: #333;
      border-color: #555;
    }

    body.dark-mode .pagination .page-item .page-link:hover {
      background-color: #555;
      border-color: #777;
    }

    body.dark-mode .pagination .page-item.active .page-link {
      z-index: 3;
      color: #fff;
      background-color: #007bff;
      border-color: #007bff;
    }

    /* Dark mode styles for the submit button */
    body.dark-mode .submit-btn {
      background-color: #f0f0f0;
      color: #333;
    }
    #empty-row {
  height: 100px; /* Adjust the height as needed */
}

#empty-row td {
  font-size: 18px;
  color: #999; /* Adjust the color as needed */
}
body {
            margin: 0;
            overflow: hidden;
            position: relative;
        }
        canvas {
            display: block;
            position: fixed;
          right:0;
     
            z-index: 9999; /* Set a high z-index to make it appear on top of everything */
        }
    /* Styles for the overlay */
.overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 9999999; /* Increased z-index */
}
.popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            text-align: center;
        }

        .popup-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
        }

        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 14px; /* Reduce icon size */
            cursor: pointer;
            background-color: red;
            color: white;
            width: 32px; /* Square shape */
            height: 32px; /* Square shape */
            text-align: center;
            line-height: 32px; /* Center the icon vertically */
            border-radius: 5px;
        }

        .popup-icon {
            font-size: 36px; /* Reduce icon size */
            color: green;
            margin-bottom: 10px;
        }

        .login-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
  z-index: 9999; /* Ensure the overlay appears on top of other elements */
  pointer-events: auto; /* Enable pointer events on the overlay */
}

.login-form {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: #fff;
  padding: 20px;
  max-width: 400px;
  width: 100%;
}

/* Optional styles to center the form */
.login-form form {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Optional style for the form image */
.login-form img {
  height: 80px;
  width: 80px;
  margin: 0 auto;
  display: block;
}

/* Optional style for the form message */
.login-form p {
  text-align: center;
}

/* Optional style for the form inputs */
.login-form .form-group {
  margin-bottom: 10px;
}

/* Optional style for the form button */
.login-form .btn {
  width: 100%;
}
.loading-dots {
display: none;
align-items: center;
justify-content: center;
margin-bottom: 15px;
}

.dot {
width: 10px;
height: 10px;
background-color: #000;
border-radius: 50%;
margin: 0 5px;
opacity: 0.3;
animation: dot-pulse 1s infinite;
transition: opacity 0.3s ease-in-out;
}

.dot:nth-child(2) {
animation-delay: 0.2s;
}

.dot:nth-child(3) {
animation-delay: 0.4s;
}

@keyframes dot-pulse {
0% {
transform: scale(1);
opacity: 0.3;
}
50% {
transform: scale(1.3);
opacity: 1;
}
100% {
transform: scale(1);
opacity: 0.3;
}
}
  </style>
  
</head>


<header>
  <span>
    Airo Email Extractor
  </span>
  <ul class="header-menu">
    <li>Demo</li>
    <li>Guidelines</li>
    <li>HelpLine</li>
    <li>More Tools</li>
    <li>How to Use</li>
    <!-- Replace the checkbox with a switch -->
    <li>
      <div class="custom-control custom-switch">
        <input type="checkbox" class="custom-control-input" id="dark-mode-toggle">
        <label class="custom-control-label" for="dark-mode-toggle">Dark Mode</label>
      </div>
    </li>
  </ul>
</header>
<body>
<div class="login-overlay" id="loginpay">
  <div class="login-form">
  
      <img style="height: 80px; width: 80px; margin: 0 auto; display: block;" src="https://cdn.shopify.com/app-store/listing_images/ba8bf84d0f9ae4222730eca1ab6a980b/icon/COKu9ab0lu8CEAE=.png">
      <p style="text-align: center;">Purchase Marketing Tools by sending Whatsapp msg at <b>+923117334180</b></p>
      <div class="form-group">
        <label for="email">Email:</label>
        <input style="width: 350px;"  type="email" class="form-control" id="email_key" placeholder="Enter email">
      </div>
      <div class="form-group">
        <label for="password">Purchase Key:</label>
        <input style="width: 350px;"  type="password" class="form-control" id="purchase_key" placeholder="Enter purchase key">
      </div>
      <p id="correct" style="text-align: center; color: green; font-size: 14px; margin-top: 8px; font-weight: bold;"></p>
      <p id="wrong" style="text-align: center; color: red; font-size: 14px; margin-top: 8px; font-weight: bold;"></p>
      <div class="loading-dots" id="loading-dots">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
      
      <button  class="btn btn-primary" onclick="validatelog()">Activate</button>
 
  </div>
</div>
<form>
<div class="container">
  <div class="input-section">
    <input type="text" class="search-input" id="search-input" placeholder="Enter keyword" required>
    <select class="select-input" id="select-input" required     style=" margin-left: 5px; margin-right: 5px;">
      <option value="">Select Platform</option>
      <option value="facebook">Facebook</option>
      <option value="pinterest">Pinterest</option>
      <option value="linkedin">Linkedin</option>
      <option value="twitter">Twitter</option>
      <option value="instagram">Instagram</option>
      <option value="tiktok">TikTok</option>
      <option value="reddit">Reddit</option>
      <option value="tumblr">Tumblr</option>
      <option value="medium">Medium</option>
      <option value="flickr">Flickr</option>
      <option value="soundCloud">SoundCloud</option>
      <option value="behance">Behance</option>
      <option value="airbnb">Air Bnb</option>
      <option value="alibaba">Ali Baba</option>
      <option value="baidu">Baidu</option>
      <option value="booking">Booking.Com</option>
      <option value="ebay">Ebay</option>
      <option value="bursamalaysia">Bursa Malaysia</option>
      <option value="businessbook">Business Book Pk</option>
      <option value="businesslist">Business List Pakistan</option>
      <option value="olx.com">Olx Pakistan</option>
      <option value="pakwheels">Pak Wheels</option>
      <option value="justdial">Just Dial</option>
      <option value="indiamart">India Mart</option>
     

      <!-- Add more platform options here -->
    </select>
      <!-- Add more platform options here -->
    </select>
    <input type="text" id="location" class="search-input" placeholder="Location (optional)">
    <select class="select-input" id="emailtype" required style="width: 50%; margin-left: 5px; margin-right: 5px;">
  <option value="gmail">Gmail.com</option>
  <option value="yahoo">Yahoo</option>
  <option value="hotmail">Hotmail</option>
  <option value="outlook">Outlook</option>
  <option value="all">All (Gmail, Yahoo,Hotmail, Outlook)</option>
  <option value="business">Business</option>


    </select>
    <select class="select-input" id="searchengine" required>
      <option value="">Select Search Engine</option>
      <option value="Google">Google</option>
     
    </select>
    <button class="submit-btn" onclick="sendingdata()"style=" margin-left: 5px; margin-right: 5px;">Submit</button>
  </div>
</div>
</form>


<div class="container my-5">
  <div class="table-responsive table-container" data-simplebar>
    <table class="table table-hover table-striped">
      <thead>
        <tr>
          <th scope="col">Sr#</th>
          <th scope="col">Title</th>
          <th scope="col">Link</th>
          <th scope="col">Email</th>
          <th scope="col">Platform</th>
        </tr>
      </thead>
      <tbody>
        <tr id="empty-row">
          <td colspan="5" class="text-center" id="text-center">Table is now empty</td>
        </tr>
      
   
         </tbody>
    </table>
  </div>
</div>



<!-- Export Buttons -->
<div class="container">
  <div class="row justify-content-end export-buttons">
    <button class="export-btn" onclick="exportToExcel()" ><i class="far fa-file-excel" id="excel"></i> Export to Excel</button>
    <button class="export-btn" onclick="exportToTxt()"><i class="fas fa-phone" style=" margin-right: 10px;""></i> Export Emails in Txt</button>
  </div>
</div>

    <!-- Loading Popup -->

<!-- Bootstrap JS scripts -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- SimpleBar JS -->
<script src="path/to/simplebar.min.js"></script>
<!-- Font Awesome JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>

<canvas id="fireworks"></canvas>

</body>


</html>

<script>

function exportToExcel() {
  const table = document.querySelector('.table');
  const links = table.querySelectorAll('a'); // Select all anchor elements in the table

  // Replace the "Visit Site" text with the actual href attribute
  links.forEach((link) => {
    link.textContent = link.getAttribute('href');
  });

  const ws = XLSX.utils.table_to_sheet(table);
  const wb = XLSX.utils.book_new();
  XLSX.utils.book_append_sheet(wb, ws, 'Table Data');
  
  // Restore the "Visit Site" text after exporting if needed
  links.forEach((link) => {
    link.textContent = 'Visit Site';
  });

  XLSX.writeFile(wb, 'table_data.xlsx');
}
const socket = new WebSocket('ws://localhost:8080');



let serialNumber = 1; // Initialize serial number

socket.addEventListener('message', (event) => {
  const data = JSON.parse(event.data);
  if (data.anchortag !== undefined && data.title !== undefined && data.desc !== undefined && data.platform!==undefined) {
    // Hide the "Table is now empty" message
    document.getElementById('empty-row').style.display = "none";

    const newRow = document.createElement('tr');
 
    // Create table data cells and populate them with the received data
    const srCell = document.createElement('td');
    srCell.textContent = serialNumber; // Set the serial number
    newRow.appendChild(srCell);
    serialNumber++; // Increment the serial number

    const titleCell = document.createElement('td');
    titleCell.textContent = data.title;
    newRow.appendChild(titleCell);

    const linkCell = document.createElement('td');
const linkAnchor = document.createElement('a');
linkAnchor.href = data.anchortag;
linkAnchor.textContent = 'Visit Site';
linkAnchor.target = '_blank'; // Add this line to open the link in a new tab

// Append the anchor element to the table cell
linkCell.appendChild(linkAnchor);

// Now you can append the linkCell to your table or wherever you need it.

    linkCell.appendChild(linkAnchor);
    newRow.appendChild(linkCell);

    const phoneNumberCell = document.createElement('td');
    phoneNumberCell.textContent = data.desc;
    newRow.appendChild(phoneNumberCell);

    const platformCell = document.createElement('td');
    platformCell.textContent = data.platform; // Set the platform to Facebook
    newRow.appendChild(platformCell);

    // Append the new row to the table's tbody
    const tableBody = document.querySelector('table.table tbody');
    tableBody.appendChild(newRow);
  }
});



    


function sendingdata() {
  
event.preventDefault();
      var searchinput = document.getElementById('search-input').value;
 
      var selectElement = document.getElementById("select-input");
  var selectedValue = selectElement.value;
  if(selectedValue=='facebook' || selectedValue=='pinterest' || selectedValue=='linkedin' || selectedValue=='linkedin' || selectedValue=='twitter' || selectedValue=='instagram'  || selectedValue=='tiktok'  || selectedValue=='reddit'  || selectedValue=='tumblr'  || selectedValue=='medium'  || selectedValue=='flickr' || selectedValue=='soundCloud' || selectedValue=='airbnb' ||selectedValue=='alibaba' || selectedValue=='baidu' || selectedValue=='booking' ||selectedValue=='ebay')
    {
      var modifiedValue = selectedValue + ".com";

    }
   else if (selectedValue=='bursamalaysia' || selectedValue=='pakwheels' ||selectedValue=='indiamart' ||selectedValue=='justdial')
    {
      var modifiedValue = selectedValue + ".com";

    }
    else if(selectedValue=='businessbook' || selectedValue=='businesslist' || selectedValue=='olx.com' )
    {
      var modifiedValue = selectedValue + ".pk";

    }
    else if(selectedValue=='behance')
    {
      var modifiedValue = selectedValue + ".net";

    }
      var location=document.getElementById('location').value;
      var emailtype=document.getElementById('emailtype').value;
      var searchengine=document.getElementById('searchengine').value;
    
     
    var text=encodeURIComponent(searchinput);
    var text1=encodeURIComponent(modifiedValue);
    var text2=encodeURIComponent(location);
    var text3=encodeURIComponent(emailtype);
    var text4=encodeURIComponent(searchengine);

      // Send a GET request with the input text as a query parameter
      fetch(`http://localhost:3000/scrap?text=${text}&text1=${text1}&text2=${text2}&text3=${text3}&text4=${text4}`)
        .then(response => response.text())
        .then(message => {
          console.log(message);
        })
        .catch(error => {
          console.error("Error:", error);
        });

    

    }
   











function showLoadingPopup() {
    const loadingPopup = document.getElementById('loading-popup');
    loadingPopup.style.display = 'flex';
  }

  // Function to hide the loading popup
  function hideLoadingPopup() {
    const loadingPopup = document.getElementById('loading-popup');
    loadingPopup.style.display = 'none';
  }

  // Check if dark mode is already enabled and update the UI accordingly
  const isDarkMode = localStorage.getItem('darkMode');
  if (isDarkMode === 'true') {
    document.body.classList.add('dark-mode');
    document.getElementById('dark-mode-toggle').checked = true;
  }

  // Function to enable or disable dark mode
  function toggleDarkMode() {
    const darkModeEnabled = document.getElementById('dark-mode-toggle').checked;
    if (darkModeEnabled) {
      document.body.classList.add('dark-mode');
      localStorage.setItem('darkMode', 'true');
    } else {
      document.body.classList.remove('dark-mode');
      localStorage.setItem('darkMode', 'false');
    }
  }

  // Attach event listener to the dark mode toggle
  document.getElementById('dark-mode-toggle').addEventListener('change', toggleDarkMode);

  // Clear the loading popup state when the page loads
  window.onload = function () {
    const loadingPopup = document.getElementById('loading-popup');
    loadingPopup.style.display = 'none';
  };
  // Function to enable or disable dark mode
  function toggleDarkMode() {
    const darkModeEnabled = document.getElementById('dark-mode-toggle').checked;
    if (darkModeEnabled) {
      document.body.classList.add('dark-mode');
      localStorage.setItem('darkMode', 'true');
    } else {
      document.body.classList.remove('dark-mode');
      localStorage.setItem('darkMode', 'false');
    }
  }

  // Attach event listener to the dark mode toggle
  document.getElementById('dark-mode-toggle').addEventListener('change', toggleDarkMode);
</script>

<script>
  // Retrieve data from localStorage
const storedValue = localStorage.getItem('key');
const email=localStorage.getItem('email');
function checkstatus()
{
  if(storedValue=='allowed')
{
  document.getElementById('loginpay').style.display = 'none';
}
if(storedValue=='not allowed')
{
  document.getElementById('loginpay').style.display = 'block';
  document.getElementById('loading-dots').style.display = 'none';
   document.getElementById('correct').innerText = "";
   document.getElementById('wrong').innerText = "";

}
}
if(storedValue=='allowed')
{
  document.getElementById('loginpay').style.display = 'none';
}
if(storedValue=='not allowed')
{
  document.getElementById('loginpay').style.display = 'block';
}
if(email!="" && storedValue=='allowed')
{
  // Send a GET request with the input text as a query parameter
  fetch(`http://localhost:3000/trial?email=${encodeURIComponent(email)}`)
        .then(response => response.text())
        .then(message => {
          console.log(message);
        })
        .catch(error => {
          console.error("Error:", error);
        });

}



document.getElementById('loading-dots').style.display = 'none';

  function validatelog() {
  
    const email=document.getElementById('email_key').value;
    const purchasekey = document.getElementById('purchase_key').value;
  if(email=='')
  {
    document.getElementById('wrong').innerText="Please insert user email";
  }
   if(purchasekey=='')
  {
    document.getElementById('wrong').innerText="Please insert purchase key";
  }
   if(email=='' && purchasekey=='')
  {
    document.getElementById('wrong').innerText="Please insert both email and purchase key";
  }
  if(email!='' && purchasekey!=''){
    document.getElementById('wrong').innerText="";
  
    document.getElementById('loading-dots').style.display = 'flex';
  
    // Send a GET request with the input text as a query parameter
    fetch(`http://localhost:3000/vallog?email=${encodeURIComponent(email)}&purchasekey=${encodeURIComponent(purchasekey)}`)
          .then(response => response.text())
          .then(message => {
            console.log(message);
          })
          .catch(error => {
            console.error("Error:", error);
          });
  
  
        }
  }
  
  

  socket.addEventListener('message', (event) => {
    try {
      const data = JSON.parse(event.data);
      if (data.loginstatus !== undefined) {
  
        if (data.loginstatus == "Validated") {
          document.getElementById('loading-dots').style.display = 'none';
          document.getElementById('correct').innerText = "Redirecting to Software...";
  
  // Store data in localStorage
  localStorage.setItem('key', 'allowed');
  localStorage.setItem('email', data.email);
  
  document.getElementById('loginpay').style.display = 'none';
  
        } else if (data.loginstatus == "Incorrect Login email or purchase key or account already in use!") {
          document.getElementById('wrong').innerText = "Incorrect Login email or purchase key or account already in use!";
          document.getElementById('loading-dots').style.display = 'none';
  
        }
      }
    } catch (error) {
      console.error('Error parsing WebSocket message:', error);
    }
  });
  
  socket.addEventListener('message', (event) => {
    try {
      const data = JSON.parse(event.data);
      if (data.blockage !== undefined) {
  
        if (data.blockage == "block") {
  
  // Store data in localStorage
  localStorage.setItem('key', 'not allowed');
  document.getElementById('loginpay').style.display = 'block';
  
  
        } else if (data.blockage == "notblock") {
          localStorage.setItem('key', 'allowed');
  
        }
      }
    } catch (error) {
      console.error('Error parsing WebSocket message:', error);
    }
  });
  
  
  
  
  
  </script>
  <script>
  
    function createFireworks() {
        const canvas = document.getElementById('fireworks');
        const ctx = canvas.getContext('2d');
        const particles = [];
        const colors = ['#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF'];
        const duration = 10000; // 10 seconds

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        class Particle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.size = Math.random() * 5 + 1;
                this.speedX = Math.random() * 3 - 1.5;
                this.speedY = Math.random() * 3 - 1.5;
                this.color = colors[Math.floor(Math.random() * colors.length)];
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.size -= 0.02;
            }

            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function createParticles(x, y) {
            for (let i = 0; i < 50; i++) {
                particles.push(new Particle(x, y));
            }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach((particle, index) => {
                if (particle.size <= 0.2) {
                    particles.splice(index, 1);
                } else {
                    particle.update();
                    particle.draw();
                }
            });

            if (Date.now() - startTime < duration) {
                requestAnimationFrame(animate);
            }
        }

        const startTime = Date.now();
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        const corners = [
            { x: 0, y: 0 },
            { x: canvas.width, y: 0 },
            { x: 0, y: canvas.height },
            { x: canvas.width, y: canvas.height },
            { x: centerX, y: centerY }
        ];

        corners.forEach((corner) => {
            createParticles(corner.x, corner.y);
        });

        animate();

    }

  
</script>
<script>
 
  function exportToTxt() {
      const phoneNumbers = document.querySelectorAll("tbody td:nth-child(4)");
      const validPhoneNumbers = [];
  
      phoneNumbers.forEach((phoneNumber) => {
          const phoneNumberText = phoneNumber.textContent.trim();
          if (phoneNumberText !== 'No Email address found') {
              validPhoneNumbers.push(phoneNumberText);
          }
      });
  
      if (validPhoneNumbers.length === 0) {
          alert("No valid email addresses found for export.");
          return;
      }
  
      // Create a text file content with valid phone numbers
      const txtContent = validPhoneNumbers.join('\n');
  
      // Create a Blob with the text content
      const blob = new Blob([txtContent], { type: 'text/plain' });
  
      // Create a download link and trigger the download
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'emails.txt';
      a.style.display = 'none';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
        // Call createFireworks with a 3-second delay between each call
     
    
  }
  
  
  </script>
  